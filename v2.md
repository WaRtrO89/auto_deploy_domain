```mermaid
graph LR

subgraph Extraction
    A[git clone]
    B[scan virus]
    A --> B
end

subgraph Compression
    C[zip, tar.gz, tar.xz, rar, 7z]
    D[detect uncompress Bomb]
    C --> D
    D --> E{scan virus}
    E -- If ok --> F[move file $racine/$subdomain.$domain]
    E -- If no ok --> G[temporarily blacklist]
end

subgraph PHP
    F -- get PHP|Version / Node|Version / Vanilla --> H[create pool.d php-fpm$version]
    H -- systemD (start|stop|restart@127.0.0.1:$randomRangePort) --> I[nginx]
    I -- root directory (vanilla app) --> J[reverse proxy use 127.0.0.1:$randomRangePort (no vanilla app)]
    J --> K{inject javascript nav (back button)}
end

subgraph Node
    F -- get PHP|Version / Node|Version / Vanilla --> L[path => .nvm/versions/V$version/bin]
    L --> M[../npm install]
    M -- systemD (start|stop|restart@127.0.0.1:$randomRangePort) --> I
end
```
